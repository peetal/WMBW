"0","rm(list = ls())"
"0",""
"0","# ----------"
"0","# Figure 7a"
"0","# ----------"
"0",""
"0","# inscanner info "
"0","df_pmat <- import(here::here('data/schaefer_permutation/schaefer_feature_selection_permutation_PMAT24_A_CR.csv')) %>%"
"0","  mutate(rep(""PMAT"", nrow(.)))"
"0","observe_pmat <- df_pmat %>%"
"0","  select(observed, idx, parcel_type) %>%"
"0","  rename(""PMAT_predAcc"" = observed)"
"0","null_pmat <- df_pmat %>%"
"0","    select(lower, mean, upper, idx) %>%"
"0","    rename(""PMAT_predAcc_lower"" = lower, "
"0","           ""PMAT_predAcc_mean"" = mean,"
"0","           ""PMAT_predAcc_upper"" = upper)"
"0",""
"0","# outscanner info "
"0","df_reading <- import(here::here('data/schaefer_permutation/schaefer_feature_selection_permutation_ReadEng_AgeAdj.csv')) %>%"
"0","   mutate(rep(""Reading-cog"", nrow(.)))"
"0","observe_reading <- df_reading %>%"
"0","  select(observed, idx, parcel_type) %>%"
"0","  rename(""Reading-cog_predAcc"" = observed)"
"0","null_reading <- df_reading %>%"
"0","    select(lower, mean, upper, idx) %>%"
"0","    rename(""Reading-cog_predAcc_lower"" = lower, "
"0","           ""Reading-cog_predAcc_mean"" = mean,"
"0","           ""Reading-cog_predAcc_upper"" = upper)"
"0",""
"0","# outscanner info "
"0","df_vocab <- import(here::here('data/schaefer_permutation/schaefer_feature_selection_permutation_PicVocab_AgeAdj.csv')) %>%"
"0","   mutate(rep(""Vocab"", nrow(.)))"
"0","observe_vocab <- df_vocab %>%"
"0","  select(observed, idx, parcel_type) %>%"
"0","  rename(""Vocab_predAcc"" = observed)"
"0","null_vocab <- df_vocab %>%"
"0","    select(lower, mean, upper, idx) %>%"
"0","    rename(""Vocab_predAcc_lower"" = lower, "
"0","           ""Vocab_predAcc_mean"" = mean,"
"0","           ""Vocab_predAcc_upper"" = upper)"
"0",""
"0","null_cut <- left_join(null_pmat, null_reading) %>% left_join(.,  null_vocab) %>%"
"0","  pivot_longer(., cols = -idx, names_pattern = ""(.*)_predAcc_(.*)"", names_to = c(""beh_label"",""value_type""), values_to = ""value"") %>%"
"0","  pivot_wider(., names_from = ""value_type"", values_from = ""value"" )"
"2","Joining, by = ""idx""
"
"2","Joining, by = ""idx""
"
"0","left_join(observe_pmat, observe_reading,  by = c(""idx"",""parcel_type"")) %>% left_join(., observe_vocab, by = c(""idx"",""parcel_type"")) %>%"
"0","  pivot_longer(., cols = c(""PMAT_predAcc"", ""Reading-cog_predAcc"", ""Vocab_predAcc""), names_pattern = ""(.*)_(.*)"", names_to = c(""beh_label"",""value_type""), values_to = ""value"") %>% "
"0","  ggplot(aes(x = idx, y = value)) + "
"0","  facet_wrap(vars(beh_label), scales = ""free"", nrow = 1) + "
"0","  geom_point(aes(color = parcel_type), size = 0.6) + "
"0","  geom_line(color = ""black"", size = 0.5) + "
"0","  geom_point(data = null_cut, aes(x = idx, y = mean), alpha = 0.2, color = ""grey"", size = 0.6) + "
"0","  geom_line(data = null_cut, aes(x = idx, y = mean), color = ""grey"", size = 0.5) +"
"0","  geom_ribbon(data = null_cut, aes(x = idx, ymin = lower, ymax = upper), fill = ""grey"", "
"0","              linetype = 2, alpha = 0.2, inherit.aes = F) + "
"0","  theme_classic() + "
"0","  ylab(""Predictive Acc"") + "
"0","  xlab(""Top n parcels"") + "
"0","  scale_x_continuous(breaks=seq(0, 60, 10))+ "
"0","  theme(axis.title.x = element_text(size = 10),"
"0","        axis.text.x = element_text(size = 8),"
"0","        axis.title.y = element_text(size = 10),"
"0","        axis.text.y = element_text(size = 8), "
"0","        plot.title = element_text(size = 10),"
"0","        strip.text.x = element_text(size = 10),"
"0","        plot.margin = margin(0,0,0,0,""cm""),"
"0","        legend.position = ""none"","
"0","        legend.title = element_blank()) +"
"0","  ggsave(""plots/suppmat/schaefer/model_building.svg"",  width=7, height=2.25)"
